{"version":3,"sources":["../../../../src/app/adminPanel/links/addLink/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { db } from \"@/firebaseConfig\"; // adjust path based on your project\r\nimport { collection, addDoc, doc } from \"firebase/firestore\";\r\n\r\nexport default function AddLink() {\r\n  const [formData, setFormData] = useState({ name: \"\", path: \"\" });\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    setFormData((prev) => ({ ...prev, [e.target.name]: e.target.value }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      // Correct Firestore path: admin/{docId}/links\r\n      const adminDocRef = doc(db, \"admin\", \"links\");\r\n      const linksCollectionRef = collection(adminDocRef, \"links\");\r\n      await addDoc(linksCollectionRef, formData);\r\n\r\n      alert(\"Link added successfully!\");\r\n      setFormData({ name: \"\", path: \"\" });\r\n    } catch (error) {\r\n      console.error(\"Error adding document: \", error);\r\n      alert(\"Error adding link. Please try again.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"d-flex flex-column justify-content-center align-items-center\">\r\n      <div className=\"mt-5\">\r\n        <h2>Add Navbar Link</h2>\r\n      </div>\r\n\r\n      <form\r\n        onSubmit={handleSubmit}\r\n        className=\"mt-2 flex-column border p-2 rounded col-12 col-md-8\"\r\n      >\r\n        <div className=\"d-flex justify-content-center align-items-center\">\r\n          <label className=\"block me-2\">Name:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={formData.name}\r\n            onChange={handleChange}\r\n            className=\"w-full p-2 rounded\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"mt-2 d-flex justify-content-center align-items-center\">\r\n          <label className=\"block me-2\">Path:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"path\"\r\n            value={formData.path}\r\n            onChange={handleChange}\r\n            className=\"w-full p-2 rounded\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"mt-2 mx-auto btn btn-primary px-4 py-2 d-flex align-items-center justify-content-center\"\r\n          disabled={loading}\r\n        >\r\n          {loading && (\r\n            <span\r\n              className=\"spinner-border spinner-border-sm me-2\"\r\n              role=\"status\"\r\n              aria-hidden=\"true\"\r\n            ></span>\r\n          )}\r\n          {loading ? \"Submitting...\" : \"Submit\"}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"uDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,CADuC,CACvC,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAEe,SAH4D,AAGnD,IACtB,GAAM,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CAAE,KAAM,GAAI,KAAM,EAAG,GACxD,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAEjC,EAAe,AAAC,IACpB,EAAY,AAAC,IAAU,CAAE,EAAH,CAAM,CAAI,CAAE,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,CAAE,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,CACrE,EAEM,EAAe,MAAO,IAC1B,EAAE,cAAc,GAChB,GAAW,GACX,GAAI,CAEF,IAAM,EAAc,CAAA,EAAA,EAAA,GAAA,AAAG,EAAC,EAAA,EAAE,CAAE,QAAS,SAC/B,EAAqB,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAa,QACnD,OAAM,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,EAAoB,GAEjC,MAAM,4BACN,EAAY,CAAE,KAAM,GAAI,KAAM,EAAG,EACnC,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,0BAA2B,GACzC,MAAM,uCACR,QAAU,CACR,GAAW,EACb,CACF,EAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yEACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,sBAGN,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CACC,SAAU,EACV,UAAU,gEAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6DACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,sBAAa,UAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,KAAK,OACL,MAAO,EAAS,IAAI,CACpB,SAAU,EACV,UAAU,qBACV,QAAQ,CAAA,CAAA,OAIZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kEACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,sBAAa,UAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,KAAK,OACL,MAAO,EAAS,IAAI,CACpB,SAAU,EACV,UAAU,qBACV,QAAQ,CAAA,CAAA,OAIZ,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,KAAK,SACL,UAAU,0FACV,SAAU,YAET,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,UAAU,wCACV,KAAK,SACL,cAAY,SAGf,EAAU,gBAAkB,iBAKvC"}