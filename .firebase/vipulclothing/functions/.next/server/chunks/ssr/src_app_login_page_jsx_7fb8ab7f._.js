module.exports=[95347,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(20706);a.i(30485);var e=a.i(70896);a.i(69387);var f=a.i(60574),g=a.i(9199),h=a.i(50944);function i(){let{setUser:a}=(0,c.useContext)(g.userContext);console.log(a+"hi");let i=(0,h.useRouter)(),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(!1),r=async b=>{if(b.preventDefault(),q(!0),!j||!l){o("Both fields are required"),q(!1);return}o("");try{let b=(await (0,e.signInWithEmailAndPassword)(d.auth,j,l)).user;localStorage.setItem("uid",b.uid);let c=(0,f.doc)(d.db,"users",b.uid),g=await (0,f.getDoc)(c);g.exists()?(a(g.data()),i.push("/")):(User.setUser(null),o("User data not found"))}catch(a){console.error("Login Error:",a),o("Enter Valid Credentials")}finally{q(!1)}};return(0,b.jsx)("div",{className:"d-flex justify-content-center align-items-center vh-100",children:(0,b.jsxs)("div",{className:"card p-4",style:{width:"400px"},children:[(0,b.jsx)("h3",{className:"card-title text-center mb-4",children:"Login"}),(0,b.jsxs)("form",{onSubmit:r,children:[n&&(0,b.jsx)("div",{className:"alert alert-danger",children:n}),(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),(0,b.jsx)("input",{type:"email",className:"form-control",id:"email",placeholder:"Enter email",value:j,onChange:a=>k(a.target.value),required:!0})]}),(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),(0,b.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",value:l,onChange:a=>m(a.target.value),required:!0})]}),(0,b.jsx)("button",{type:"submit",className:"btn btn-primary w-100",disabled:p,children:p?(0,b.jsx)("div",{className:"spinner-border",role:"status",children:(0,b.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):"Login"})]}),(0,b.jsxs)("div",{className:"",children:[(0,b.jsx)("p",{className:"m-0 mt-3 text-center",children:"Don't have an account?"}),(0,b.jsx)("button",{className:"btn btn-primary w-100",onClick:()=>i.push("/createAccount"),children:"Sign-Up"})]})]})})}a.s(["default",()=>i])}];

//# sourceMappingURL=src_app_login_page_jsx_7fb8ab7f._.js.map