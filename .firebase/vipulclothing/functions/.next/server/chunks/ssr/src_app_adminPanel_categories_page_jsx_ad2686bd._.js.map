{"version":3,"sources":["../../../../src/app/adminPanel/categories/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { db } from \"@/firebaseConfig\"; // Adjust import based on your folder structure\r\nimport { doc, getDoc, setDoc, updateDoc } from \"firebase/firestore\";\r\n\r\nexport default function Categories() {\r\n  const [categories, setCategories] = useState([]);\r\n  const [newCategory, setNewCategory] = useState(\"\");\r\n  const categoriesDocRef = doc(db, \"admin\", \"categories\");\r\n\r\n  useEffect(() => {\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const docSnap = await getDoc(categoriesDocRef);\r\n      if (docSnap.exists()) {\r\n        setCategories(docSnap.data().list || []);\r\n      } else {\r\n        console.log(\"No categories found, creating new document...\");\r\n        await setDoc(categoriesDocRef, { list: [] });\r\n        setCategories([]);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching categories:\", error);\r\n    }\r\n  };\r\n\r\n  const addCategory = async () => {\r\n    if (!newCategory.trim()) return;\r\n    try {\r\n      const updatedCategories = [...categories, newCategory.trim()];\r\n      await updateDoc(categoriesDocRef, { list: updatedCategories });\r\n      setNewCategory(\"\");\r\n      setCategories(updatedCategories);\r\n    } catch (error) {\r\n      console.error(\"Error adding category:\", error);\r\n    }\r\n  };\r\n\r\n  const deleteCategory = async (categoryToDelete) => {\r\n    if (!confirm(`Are you sure you want to delete \"${categoryToDelete}\"?`)) return;\r\n    try {\r\n      const updatedCategories = categories.filter((category) => category !== categoryToDelete);\r\n      await updateDoc(categoriesDocRef, { list: updatedCategories });\r\n      setCategories(updatedCategories);\r\n    } catch (error) {\r\n      console.error(\"Error deleting category:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mt-5\">\r\n      <h2 className=\"text-center\">Categories</h2>\r\n\r\n      <div className=\"my-3 d-flex\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control me-2\"\r\n          placeholder=\"Enter new category\"\r\n          value={newCategory}\r\n          onChange={(e) => setNewCategory(e.target.value)}\r\n        />\r\n        <button className=\"btn btn-primary\" onClick={addCategory}>\r\n          Add Category\r\n        </button>\r\n      </div>\r\n\r\n      <ul className=\"list-group mb-2\">\r\n        {categories.map((category, index) => (\r\n          <li\r\n            key={index}\r\n            className=\"list-group-item d-flex justify-content-between align-items-center\"\r\n          >\r\n            {category}\r\n            <button\r\n              className=\"btn btn-danger btn-sm\"\r\n              onClick={() => deleteCategory(category)}\r\n            >\r\n              Delete\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,CADuC,CACvC,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACtB,GAAM,CAAC,EAAY,CAJiE,CAInD,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAE,EACzC,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACzC,EAAmB,CAAA,EAAA,EAAA,GAAA,AAAG,EAAC,EAAA,EAAE,CAAE,QAAS,cAE1C,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GACF,EAAG,EAAE,EAEL,IAAM,EAAkB,UACtB,GAAI,CACF,IAAM,EAAU,MAAM,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,GACzB,EAAQ,MAAM,GAChB,CADoB,CACN,EAAQ,IAAI,GAAG,IAAI,EAAI,EAAE,GAEvC,QAAQ,GAAG,CAAC,iDACZ,MAAM,CAAA,EAAA,EAAA,MAAM,AAAN,EAAO,EAAkB,CAAE,KAAM,EAAE,AAAC,GAC1C,EAAc,EAAE,EAEpB,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,6BAA8B,EAC9C,CACF,EAEM,EAAc,UAClB,GAAK,CAAD,CAAa,IAAI,GACrB,CADyB,EACrB,CACF,IAAM,EAAoB,IAAI,EAAY,EAAY,IAAI,GAAG,AAC7D,OAAM,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,EAAkB,CAAE,KAAM,CAAkB,GAC5D,EAAe,IACf,EAAc,EAChB,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,yBAA0B,EAC1C,CACF,EAEM,EAAiB,MAAO,IAC5B,GAAK,CAAD,OAAS,CAAC,iCAAiC,EAAE,EAAiB,EAAE,CAAC,EACrE,CADwE,EACpE,CACF,IAAM,EAAoB,EAAW,MAAM,CAAC,AAAC,GAAa,IAAa,EACvE,OAAM,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,EAAkB,CAAE,KAAM,CAAkB,GAC5D,EAAc,EAChB,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,2BAA4B,EAC5C,CACF,EAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uBAAc,eAE5B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,UAAU,oBACV,YAAY,qBACZ,MAAO,EACP,SAAU,AAAC,GAAM,EAAe,EAAE,MAAM,CAAC,KAAK,IAEhD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,UAAU,kBAAkB,QAAS,WAAa,oBAK5D,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,2BACX,EAAW,GAAG,CAAC,CAAC,EAAU,IACzB,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAEC,UAAU,8EAET,EACD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,UAAU,wBACV,QAAS,IAAM,EAAe,YAC/B,aAPI,QAejB"}