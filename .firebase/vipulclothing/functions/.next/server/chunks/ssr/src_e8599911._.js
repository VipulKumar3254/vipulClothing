module.exports=[9444,a=>{a.v({"card-img-top":"productDisplay-module__JHwf4q__card-img-top",fwMedium:"productDisplay-module__JHwf4q__fwMedium",gridMaker:"productDisplay-module__JHwf4q__gridMaker",imgContainer:"productDisplay-module__JHwf4q__imgContainer",noProducts:"productDisplay-module__JHwf4q__noProducts","placeholder-card":"productDisplay-module__JHwf4q__placeholder-card","placeholder-img":"productDisplay-module__JHwf4q__placeholder-img","placeholder-text":"productDisplay-module__JHwf4q__placeholder-text",productImg:"productDisplay-module__JHwf4q__productImg",pulse:"productDisplay-module__JHwf4q__pulse",short:"productDisplay-module__JHwf4q__short",textBlack:"productDisplay-module__JHwf4q__textBlack",title:"productDisplay-module__JHwf4q__title",toaster:"productDisplay-module__JHwf4q__toaster",wishList:"productDisplay-module__JHwf4q__wishList","wishlist-hover":"productDisplay-module__JHwf4q__wishlist-hover"})},78241,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(20706);a.i(69387);var e=a.i(60574),f=a.i(38246);a.i(9444),a.i(30485);var g=a.i(70896),h=a.i(6704),i=a.i(71987);function j(){let[a,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(!0),[m,n]=(0,c.useState)(null);(0,c.useEffect)(()=>{let a=(0,g.getAuth)(),b=(0,g.onAuthStateChanged)(a,a=>n(a||null));return()=>b()},[]),(0,c.useEffect)(()=>{(async()=>{try{let a=(0,e.query)((0,e.collection)(d.db,"products"),(0,e.where)("isDeal","==",!0)),b=(await (0,e.getDocs)(a)).docs.map(a=>({id:a.id,...a.data()}));j(b)}catch(a){console.error("Error fetching deals: ",a)}finally{l(!1)}})()},[]);let o=async(a,c)=>{a.preventDefault(),a.stopPropagation();let f={title:c.title,price:c.price,photo:c.photo,productId:c.id,userId:m?.uid};try{if(!m)throw Error("User not logged in");await (0,e.setDoc)((0,e.doc)(d.db,`users/${m.uid}/wishList`,c.id),f),h.toast.custom(a=>(0,b.jsxs)("div",{className:"toaster bg-success text-white px-5 py-2 shadow-sm d-flex justify-content-between align-items-center",style:{fontFamily:"Jost Variable",fontSize:"12px"},children:[(0,b.jsx)("span",{className:"text-center",children:"Added to WishList"}),(0,b.jsx)("button",{className:"btn btn-sm btn-light ms-3",onClick:()=>h.toast.dismiss(a.id),style:{fontSize:"12px"},children:"Close"})]}),{duration:4e3})}catch(c){let a="User not logged in"===c.message?"Please login to add items to wishlist":"Something went wrong";h.toast.custom(c=>(0,b.jsxs)("div",{className:"toaster bg-danger text-white px-5 py-2 shadow-sm d-flex justify-content-between align-items-center",style:{fontFamily:"Jost Variable",fontSize:"12px"},children:[(0,b.jsx)("span",{children:a}),(0,b.jsx)("button",{className:"btn btn-sm btn-light ms-3",onClick:()=>h.toast.dismiss(c.id),style:{fontSize:"12px"},children:"Close"})]}),{duration:4e3})}};return(0,b.jsxs)("div",{className:"container mt-3 px-1",style:{fontFamily:"Jost Variable"},children:[(0,b.jsx)("h2",{className:"text-center mb-4 fw-normal fs-2",children:"ðŸ”¥ Hot Deals ðŸ”¥"}),k?(0,b.jsx)("div",{className:"row g-3",children:Array.from({length:8}).map((a,c)=>(0,b.jsx)("div",{className:"col-6 col-md-3",children:(0,b.jsxs)("div",{className:"card placeholder-card h-100 border-0 rounded-0",style:{backgroundColor:"#f0f0f0"},children:[(0,b.jsx)("div",{className:"placeholder-img w-100"}),(0,b.jsxs)("div",{className:"card-body px-2 py-2",children:[(0,b.jsx)("div",{className:"placeholder-text mb-2"}),(0,b.jsx)("div",{className:"placeholder-text short"}),(0,b.jsx)("div",{className:"placeholder-text short mt-2",style:{width:"40%"}})]})]})},c))}):0===a.length?(0,b.jsx)("p",{className:"text-center fs-5",children:"No deals available right now."}):(0,b.jsx)("div",{className:"row g-0 g-md-4",children:a.map(a=>(0,b.jsx)("div",{className:"col-6 col-md-3",children:(0,b.jsxs)(f.default,{href:`/product/${a.id}`,className:"card h-100 text-decoration-none rounded-0 border-0",style:{backgroundColor:"#F7F7F7"},children:[(0,b.jsx)("div",{className:"position-relative",children:(0,b.jsx)(i.default,{src:Array.isArray(a.photo)?a.photo[0]:a.photo,alt:a.title,className:"card-img-top"})}),(0,b.jsxs)("div",{className:"card-body mt-1 px-1",children:[(0,b.jsx)("h5",{className:"card-title fw-normal text-dark",children:a.title}),(0,b.jsxs)("p",{className:"card-text text-muted p-0 mb-0",style:{fontSize:"12px"},children:[(0,b.jsx)("span",{className:"badge bg-success text-start",children:"Free delivery"})," ","on â‚¹599+"]}),(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)("p",{style:{backgroundColor:"#FFCE12",fontSize:"11px"},className:"d-inline px-3 py-1 border rounded-5 cursor-pointer",onClick:b=>o(b,a),children:"Add to Wishlist"})}),(0,b.jsxs)("p",{className:"fw-medium text-dark fs-6 mb-0 mt-2 ms-0",children:["Rs. ",a.price]})]})]})},a.id))}),(0,b.jsx)(h.Toaster,{position:"bottom-left"})]})}a.s(["default",()=>j])}];

//# sourceMappingURL=src_e8599911._.js.map