module.exports=[74717,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(20706);a.i(69387);var e=a.i(60574);a.i(60121);var f=a.i(5420),g=a.i(38246);function h(){let[a,h]=(0,c.useState)([]);(0,c.useEffect)(()=>{i()},[]);let i=async()=>{try{let a=(await (0,e.getDocs)((0,e.collection)(d.db,"admin","productsWeOffer","products"))).docs.map(a=>({id:a.id,...a.data()}));h(a)}catch(a){console.error("Error fetching products: ",a)}},j=async(a,b)=>{if(window.confirm("Are you sure you want to delete this product?"))try{let c=b.split("/o/")[1].split("?")[0],g=(0,f.ref)(d.storage,decodeURIComponent(c));await (0,f.deleteObject)(g),await (0,e.deleteDoc)((0,e.doc)(d.db,"admin","productsWeOffer","products",a)),h(b=>b.filter(b=>b.id!==a)),alert("Product and image deleted successfully!")}catch(a){console.error("Error deleting product:",a),alert("Failed to delete product.")}};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"container mt-3",children:(0,b.jsx)(g.default,{className:"btn btn-primary",href:"/adminPanel/productsWeOffer/add",children:"Add Products"})}),(0,b.jsxs)("div",{className:"container mt-4",children:[(0,b.jsx)("h2",{className:"text-center mb-4",children:"All Products"}),(0,b.jsx)("div",{className:"row",children:a.length>0?a.map(a=>(0,b.jsx)("div",{className:"col-lg-3 col-md-6 col-sm-12 mb-4",children:(0,b.jsxs)("div",{className:"card shadow-sm text-center",children:[(0,b.jsx)("img",{src:a.imgSrc,className:"card-img-top",alt:a.name,style:{height:"200px",width:"300px",objectFit:"contain"}}),(0,b.jsxs)("div",{className:"card-body",children:[(0,b.jsx)("h5",{className:"card-title",children:a.path}),(0,b.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[(0,b.jsx)("a",{href:a.path,className:"btn btn-primary",target:"_blank",rel:"noopener noreferrer",children:"View Product"}),(0,b.jsx)("button",{className:"m-0 ms-2 btn btn-danger",onClick:()=>j(a.id,a.imgSrc),children:"Delete"})]})]})]})},a.id)):(0,b.jsx)("div",{className:"col-12 text-center",children:(0,b.jsx)("p",{children:"Loading products..."})})})]})]})}a.s(["default",()=>h])}];

//# sourceMappingURL=src_app_adminPanel_productsWeOffer_page_jsx_816013d6._.js.map