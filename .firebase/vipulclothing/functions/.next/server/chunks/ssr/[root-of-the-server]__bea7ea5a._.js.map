{"version":3,"sources":["../../../../src/app/%5BproductCategory%5D/Filters.jsx/__nextjs-internal-proxy.mjs","turbopack:///[project]/src/styles/productDisplay.module.css [app-rsc] (css module)","../../../../src/app/%5BproductCategory%5D/ProductCardClient.jsx/__nextjs-internal-proxy.mjs","../../../../src/app/%5BproductCategory%5D/ProductsPage.jsx","../../../../src/app/%5BproductCategory%5D/page.jsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/[productCategory]/Filters.jsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/[productCategory]/Filters.jsx\",\n    \"default\",\n);\n","__turbopack_context__.v({\n  \"card-img-top\": \"productDisplay-module__JHwf4q__card-img-top\",\n  \"fwMedium\": \"productDisplay-module__JHwf4q__fwMedium\",\n  \"gridMaker\": \"productDisplay-module__JHwf4q__gridMaker\",\n  \"imgContainer\": \"productDisplay-module__JHwf4q__imgContainer\",\n  \"noProducts\": \"productDisplay-module__JHwf4q__noProducts\",\n  \"placeholder-card\": \"productDisplay-module__JHwf4q__placeholder-card\",\n  \"placeholder-img\": \"productDisplay-module__JHwf4q__placeholder-img\",\n  \"placeholder-text\": \"productDisplay-module__JHwf4q__placeholder-text\",\n  \"productImg\": \"productDisplay-module__JHwf4q__productImg\",\n  \"pulse\": \"productDisplay-module__JHwf4q__pulse\",\n  \"short\": \"productDisplay-module__JHwf4q__short\",\n  \"textBlack\": \"productDisplay-module__JHwf4q__textBlack\",\n  \"title\": \"productDisplay-module__JHwf4q__title\",\n  \"toaster\": \"productDisplay-module__JHwf4q__toaster\",\n  \"wishList\": \"productDisplay-module__JHwf4q__wishList\",\n  \"wishlist-hover\": \"productDisplay-module__JHwf4q__wishlist-hover\",\n});\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/[productCategory]/ProductCardClient.jsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/[productCategory]/ProductCardClient.jsx\",\n    \"default\",\n);\n","import { db } from \"@/firebaseConfig\";\r\nimport { collection, getDocs, query, where, orderBy } from \"firebase/firestore\";\r\nimport Filters from \"./Filters\";\r\nimport \"@/styles/productDisplay.module.css\"\r\nimport Link from \"next/link\";\r\nimport ProductCardClient from \"./ProductCardClient\";\r\nimport { Suspense } from \"react\";\r\n\r\n// ðŸ”¹ Fetch products from Firestore with proper handling\r\nasync function getProducts(params, filters = {}) {\r\n   const category = params?.category;\r\n  const constraints = [];\r\n\r\n  if (category) {\r\n    constraints.push(where(\"category\", \"array-contains\", category));\r\n  }\r\n\r\n  // Price filters\r\n  if (filters.minPrice) {\r\n    constraints.push(where(\"price\", \">=\", Number(filters.minPrice)));\r\n  }\r\n  if (filters.maxPrice) {\r\n    constraints.push(where(\"price\", \"<=\", Number(filters.maxPrice)));\r\n  }\r\n\r\n  // Sorting\r\n  if (filters.sort === \"price-asc\") {\r\n    constraints.push(orderBy(\"price\", \"asc\"));\r\n  } else if (filters.sort === \"price-desc\") {\r\n    constraints.push(orderBy(\"price\", \"desc\"));\r\n  } else if (filters.sort === \"newest\") {\r\n    constraints.push(orderBy(\"createdAt\", \"desc\")); // assumes you have createdAt field\r\n  }\r\n\r\n  // Build query properly\r\n  const q = query(collection(db, \"products\"), ...constraints);\r\n  const snapshot = await getDocs(q);\r\n  return snapshot.docs.map((doc) => ({ id: doc.id, ...doc.data() }));\r\n}\r\n// ðŸ”¹ Products Page\r\nexport default async function ProductsPage({ category, searchParams }) {\r\n  // Extract filters from searchParams\r\n  const filters = {\r\n    sort: searchParams?.sort || \"\",\r\n    minPrice: searchParams?.minPrice || \"\",\r\n    maxPrice: searchParams?.maxPrice || \"\",\r\n  };\r\n\r\n  const products = await getProducts(category, filters);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"row \">\r\n        <div className=\"col-12\" >\r\n             <Suspense fallback={null}>\r\n        <Filters />\r\n      </Suspense>\r\n          {/* <Filters /> */}\r\n        </div>\r\n        {/* Filters component */}\r\n\r\n        <div className=\" col-12 mt-3 px-1\">\r\n          <div className=\"row g-0 g-md-4\">\r\n            {products.length > 0 ? (\r\n              products.map((item) => (\r\n                <div className=\"col-6 col-md-3\" key={item.id}>\r\n                  <Link\r\n                    href={`/product/${item.id}`}\r\n                    className=\"text-decoration-none\"\r\n                  >\r\n                    <div\r\n                      className=\"card h-100 text-decoration-none rounded-0 border-0\"\r\n                      style={{ backgroundColor: \"#F7F7F7\" }}\r\n                    >\r\n                      <div className=\"position-relative\">\r\n                        <img\r\n                          src={\r\n                            Array.isArray(item.photo)\r\n                              ? item.photo[0]\r\n                              : item.photo\r\n                          }\r\n                          className=\"card-img-top\"\r\n                          alt={item.title}\r\n                        />\r\n                      </div>\r\n\r\n                      <div\r\n                        className=\"card-bod mt-1 px-2\"\r\n                        style={{ fontFamily: \"Jost Variable\" }}\r\n                      >\r\n                        <h2\r\n                          className=\"card-title fw-normal text-dark text-start title \"\r\n                          \r\n                        >\r\n                          {item.title}\r\n                        </h2>\r\n                        <p\r\n                          className=\"card-text text-muted p-0 mb-0 text-start\"\r\n                          style={{ fontSize: \"12px\" }}\r\n                        >\r\n                          <span className=\"badge bg-success text-start\">\r\n                            Free delivery\r\n                          </span>{\" \"}\r\n                          on â‚¹599+\r\n                        </p>\r\n\r\n                        <ProductCardClient id={item.id} product={item} />\r\n                        <p className=\"fw-medium text-dark fs-6 mb-0 mt-2 ms-0 text-start\">\r\n                          Rs. {item.price}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </Link>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <div className=\"col-12 text-center fs-5\">\r\n                No products available.\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","\r\nimport ProductsPage from \"./ProductsPage\";\r\n\r\nconst categoryDesc = (category) =>\r\n  category === \"jeans\"\r\n    ? \"Kumar Fashion Store provides premium jeans at affordable prices â€” baggy, slim fit, straight and more.\"\r\n    : category === \"shirts\"\r\n    ? \"Premium collection of shirts with top quality fabric, stitching and finishing.\"\r\n    : category === \"tshirts\"\r\n    ? \"Variety of Tâ€‘shirts â€” collar, polo, full sleeve and more.\"\r\n    : category === \"joggers\"\r\n    ? \"High quality joggers: NS fabric, NS terry, four-way, lycra (stretchable) and more.\"\r\n    : \"Kumar Fashion Store offers a wide variety of garments like lowers, Tâ€‘shirts, shirts, jeans and more.\";\r\n\r\n// Pre-build all category pages\r\nexport async function generateStaticParams() {\r\n  return [\r\n    { productCategory: \"jeans\" },\r\n    { productCategory: \"shirts\" },\r\n    { productCategory: \"tshirts\" },\r\n    { productCategory: \"joggers\" },\r\n  ];\r\n}\r\n\r\n// Metadata\r\nexport async function generateMetadata({ params }) {\r\n  const { productCategory } = await params; // OK here\r\n  return {\r\n    title: `${productCategory} from Kumar Fashion Store`,\r\n    description: categoryDesc(productCategory),\r\n  };\r\n}\r\n\r\n// Page component\r\nexport default async function Page({ params, searchParams }) {\r\n  const { productCategory } = await  params;  // âœ… remove await\r\n  const searchTerm = searchParams?.sort ?? null;  // âœ… remove await\r\n\r\n  console.log(params);\r\n\r\n  return (\r\n    <ProductsPage category={productCategory} searchParams={searchParams} />\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[0,2]}