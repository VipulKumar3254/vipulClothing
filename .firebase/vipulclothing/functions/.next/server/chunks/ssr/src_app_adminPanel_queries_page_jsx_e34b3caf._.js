module.exports=[387,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(69387);var d=a.i(60574),e=a.i(20706),f=a.i(6704);a.s(["default",0,()=>{let[a,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)("all"),l=async()=>{try{let a=(0,d.query)((0,d.collection)(e.db,"concerns"),(0,d.orderBy)("timestamp","desc")),b=(await (0,d.getDocs)(a)).docs.map(a=>({id:a.id,solved:a.data().solved||!1,...a.data()}));g(b)}catch(a){console.error("Error fetching user queries:",a)}finally{i(!1)}},m=async a=>{try{let b=(0,d.doc)(e.db,"concerns",a);await (0,d.updateDoc)(b,{solved:!0}),g(b=>b.map(b=>b.id===a?{...b,solved:!0}:b)),f.default.success("Marked as solved!")}catch(a){console.error("Error marking query as solved:",a),f.default.error("Failed to mark as solved.")}};(0,c.useEffect)(()=>{l()},[]);let n=a.filter(a=>"solved"===j?!0===a.solved:"unsolved"!==j||!a.solved);return h?(0,b.jsx)("div",{className:"text-center mt-5",children:"Loading queries..."}):0===n.length?(0,b.jsx)("div",{className:"text-center mt-5",children:"No user queries found."}):(0,b.jsxs)("div",{className:"container mt-4",children:[(0,b.jsx)("h2",{className:"mb-4 text-center",children:"User Queries"}),(0,b.jsx)("div",{className:"mb-3 text-start",children:(0,b.jsxs)("select",{className:"form-select w-auto d-inline-block",value:j,onChange:a=>k(a.target.value),children:[(0,b.jsx)("option",{value:"all",children:"All"}),(0,b.jsx)("option",{value:"unsolved",children:"Unsolved"}),(0,b.jsx)("option",{value:"solved",children:"Solved"})]})}),(0,b.jsx)("ul",{className:"list-group",children:n.map(a=>(0,b.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-start",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h5",{children:[a.name," ",a.solved&&(0,b.jsx)("span",{className:"badge bg-success",children:"Solved"})]}),(0,b.jsx)("p",{className:"m-0",children:a.phone}),(0,b.jsx)("p",{className:"mb-1",children:a.query}),(0,b.jsx)("small",{className:"text-muted",children:a.timestamp?.toDate().toLocaleString()||"No timestamp"})]}),!a.solved&&(0,b.jsx)("button",{className:"btn btn-sm btn-success",onClick:()=>m(a.id),children:"Mark Solved"})]},a.id))})]})}])}];

//# sourceMappingURL=src_app_adminPanel_queries_page_jsx_e34b3caf._.js.map