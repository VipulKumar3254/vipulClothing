{"version":3,"sources":["../../../../src/app/adminPanel/upload/page.jsx"],"sourcesContent":["\"use client\"; // ✅ Needed because we use state, refs, effects\r\n\r\nimport { collection, addDoc, getDoc, doc } from \"firebase/firestore\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { db, storage } from \"@/firebaseConfig\"; // ✅ Adjust path for Next.js project\r\nimport { ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\r\n\r\nexport default function UploadProduct() {\r\n  const spinner = useRef(null);\r\n  const alert1 = useRef(null);\r\n  const categoryMessage = useRef(null);\r\n\r\n  const [alertMessage, setalertMessage] = useState(\"\");\r\n  const [sizeType, setSizeType] = useState(\"\");\r\n  const [colorLength, setColorLength] = useState(1);\r\n  const [imagesLength, setImagesLength] = useState(1);\r\n  const [categories, setCategories] = useState([]);\r\n\r\n  const [product, updateProduct] = useState({\r\n    title: \"\",\r\n    subTitle: \"\",\r\n    price: null,\r\n    desc: [{ title: \"\", desc: \"\" }],\r\n    photo: [],\r\n    category: [],\r\n    sizes: [],\r\n    color: [],\r\n    tags: [],\r\n    stock: {}, // { color: { size: stockNumber } }\r\n  });\r\n\r\n  // ✅ Fetch categories from Firestore\r\n  useEffect(() => {\r\n    const fetchCategories = async () => {\r\n      try {\r\n        const docSnap = await getDoc(doc(db, \"admin\", \"categories\"));\r\n        if (docSnap.exists()) {\r\n          setCategories(docSnap.data().list || []);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching categories:\", error);\r\n      }\r\n    };\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  const handleCategoryChange = (event) => {\r\n    const { name, options } = event.target;\r\n    const selectedValues = Array.from(options)\r\n      .filter((option) => option.selected)\r\n      .map((option) => option.value);\r\n    updateProduct((prevState) => ({ ...prevState, [name]: selectedValues }));\r\n  };\r\n\r\n  const handleDescChange = (index, field, value) => {\r\n    const newDesc = [...product.desc];\r\n    newDesc[index][field] = value;\r\n    updateProduct((prev) => ({ ...prev, desc: newDesc }));\r\n  };\r\n\r\n  const handleColorChange = (index, value) => {\r\n    const newColors = [...product.color];\r\n    newColors[index] = value;\r\n    updateProduct({ ...product, color: newColors });\r\n  };\r\n\r\n  const handleSizeChange = (e) => {\r\n    const selectedValues = Array.from(e.target.selectedOptions).map(\r\n      (option) => option.value\r\n    );\r\n    updateProduct({ ...product, sizes: selectedValues });\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    updateProduct({ ...product, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    let newFile = e.target.files[0];\r\n    if (!newFile) return;\r\n    let newProduct = { ...product };\r\n    const fileexists = newProduct.photo.some(\r\n      (file) => file.name === newFile.name\r\n    );\r\n    if (fileexists) {\r\n      alert(\"File already exists, choose another file.\");\r\n      return;\r\n    }\r\n    newProduct.photo.push(newFile);\r\n    updateProduct(newProduct);\r\n  };\r\n\r\n  const handleStockChange = (color, size, value) => {\r\n    updateProduct((prev) => ({\r\n      ...prev,\r\n      stock: {\r\n        ...prev.stock,\r\n        [color]: {\r\n          ...prev.stock[color],\r\n          [size]: Number(value),\r\n        },\r\n      },\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (\r\n      !product.title ||\r\n      !product.subTitle ||\r\n      !product.price ||\r\n      !product.desc.length ||\r\n      !product.photo.length ||\r\n      !product.sizes.length ||\r\n      !product.color.length\r\n    ) {\r\n      alert1.current.style.display = \"block\";\r\n      setalertMessage(\"Please fill all the fields.\");\r\n      return;\r\n    }\r\n    if (!product.category) {\r\n      categoryMessage.current.style.display = \"block\";\r\n      return;\r\n    } else {\r\n      categoryMessage.current.style.display = \"none\";\r\n    }\r\n\r\n    spinner.current.style.display = \"block\";\r\n    try {\r\n      let photoURL = [];\r\n      for (const file of product.photo) {\r\n        const photoRef = ref(storage, `photos/${file.name}`);\r\n        await uploadBytes(photoRef, file);\r\n        photoURL.push(await getDownloadURL(photoRef));\r\n      }\r\n\r\n      const productData = {\r\n        title: product.title,\r\n        subTitle: product.subTitle,\r\n        price: parseInt(product.price),\r\n        desc: product.desc,\r\n        sizes: product.sizes,\r\n        color: product.color,\r\n        photo: photoURL,\r\n        category: product.category,\r\n        tags: product.tags,\r\n        stock: product.stock,\r\n      };\r\n\r\n      await addDoc(collection(db, \"products\"), productData);\r\n      alert1.current.style.display = \"block\";\r\n      setalertMessage(\"Product has been uploaded.\");\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert1.current.style.display = \"block\";\r\n      setalertMessage(\"Error while uploading product.\");\r\n    }\r\n    spinner.current.style.display = \"none\";\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h2 className=\"mt-5 text-center\">Add Product</h2>\r\n      {/* Alert */}\r\n      <div\r\n        ref={alert1}\r\n        style={{ display: \"none\" }}\r\n        className=\"alert alert-success alert-dismissible fade show\"\r\n        role=\"alert\"\r\n      >\r\n        {alertMessage}\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn-close\"\r\n          data-bs-dismiss=\"alert\"\r\n          aria-label=\"Close\"\r\n        ></button>\r\n      </div>\r\n\r\n      <div className=\"container\">\r\n        <form className=\"m-3\" onSubmit={handleSubmit}>\r\n          {/* Category */}\r\n          <div className=\"mb-3\">\r\n            <label className=\"form-label\">Product Category</label>\r\n            <select\r\n              className=\"form-select\"\r\n              multiple\r\n              name=\"category\"\r\n              onChange={handleCategoryChange}\r\n              value={product.category}\r\n            >\r\n              <option value=\"\" disabled>\r\n                Select category\r\n              </option>\r\n              {categories.map((category) => (\r\n                <option key={category} value={category}>\r\n                  {category}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <p\r\n              className=\"text-danger\"\r\n              ref={categoryMessage}\r\n              style={{ display: \"none\" }}\r\n            >\r\n              Please Select Category Carefully.\r\n            </p>\r\n          </div>\r\n\r\n          {/* Title & Subtitle */}\r\n          <div className=\"mb-3\">\r\n            <label className=\"form-label\">Product Title</label>\r\n            <input\r\n              required\r\n              type=\"text\"\r\n              name=\"title\"\r\n              value={product.title}\r\n              onChange={handleInputChange}\r\n              className=\"form-control\"\r\n            />\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label className=\"form-label\">Product Sub Title</label>\r\n            <input\r\n              required\r\n              type=\"text\"\r\n              name=\"subTitle\"\r\n              value={product.subTitle}\r\n              onChange={handleInputChange}\r\n              className=\"form-control\"\r\n            />\r\n          </div>\r\n\r\n          {/* Description */}\r\n          <div className=\"mb-3\">\r\n            <label className=\"form-label\">Product Description</label>\r\n            {product.desc.map((item, index) => (\r\n              <div key={index} className=\"mb-2\">\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Section Title\"\r\n                  value={item.title}\r\n                  onChange={(e) =>\r\n                    handleDescChange(index, \"title\", e.target.value)\r\n                  }\r\n                  className=\"form-control mb-1\"\r\n                />\r\n                <textarea\r\n                  placeholder=\"Section Description\"\r\n                  value={item.desc}\r\n                  onChange={(e) =>\r\n                    handleDescChange(index, \"desc\", e.target.value)\r\n                  }\r\n                  className=\"form-control\"\r\n                />\r\n                {product.desc.length > 1 && (\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-danger mt-2\"\r\n                    onClick={() => {\r\n                      const newDesc = product.desc.filter(\r\n                        (_, i) => i !== index\r\n                      );\r\n                      updateProduct((prev) => ({ ...prev, desc: newDesc }));\r\n                    }}\r\n                  >\r\n                    Remove\r\n                  </button>\r\n                )}\r\n              </div>\r\n            ))}\r\n            <button\r\n              className=\"btn btn-secondary mt-2\"\r\n              type=\"button\"\r\n              onClick={() => {\r\n                updateProduct((prev) => ({\r\n                  ...prev,\r\n                  desc: [...prev.desc, { title: \"\", desc: \"\" }],\r\n                }));\r\n              }}\r\n            >\r\n              Add One More\r\n            </button>\r\n          </div>\r\n\r\n          {/* Price */}\r\n          <div className=\"mb-3\">\r\n            <label className=\"form-label\">Product Price</label>\r\n            <input\r\n              required\r\n              type=\"number\"\r\n              name=\"price\"\r\n              value={product.price}\r\n              onChange={handleInputChange}\r\n              className=\"form-control\"\r\n            />\r\n          </div>\r\n\r\n          {/* Sizes */}\r\n          <div className=\"mb-3\">\r\n            <label className=\"form-label\">Select Size Type</label>\r\n            <div>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary me-2\"\r\n                onClick={() => setSizeType(\"number\")}\r\n              >\r\n                Numbers\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary me-2\"\r\n                onClick={() => setSizeType(\"alphabets\")}\r\n              >\r\n                Alphabets\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary\"\r\n                onClick={() => {\r\n                  setSizeType(\"free\");\r\n                  updateProduct((prev) => ({\r\n                    ...prev,\r\n                    sizes: [\"Free Size\"],\r\n                  }));\r\n                }}\r\n              >\r\n                Free Size\r\n              </button>\r\n            </div>\r\n            {sizeType === \"number\" && (\r\n              <select\r\n                onChange={handleSizeChange}\r\n                value={product.sizes}\r\n                multiple\r\n                className=\"form-control mt-2\"\r\n              >\r\n                {[28, 30, 32, 34, 36, 38, 40].map((size) => (\r\n                  <option key={size} value={size}>\r\n                    {size}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            )}\r\n            {sizeType === \"alphabets\" && (\r\n              <select\r\n                onChange={handleSizeChange}\r\n                value={product.sizes}\r\n                multiple\r\n                className=\"form-control mt-2\"\r\n              >\r\n                {[\"S\", \"M\", \"L\", \"XL\", \"2XL\", \"3XL\", \"4XL\", \"5XL\"].map(\r\n                  (size) => (\r\n                    <option key={size} value={size}>\r\n                      {size}\r\n                    </option>\r\n                  )\r\n                )}\r\n              </select>\r\n            )}\r\n          </div>\r\n\r\n          {/* Colors */}\r\n          <div>\r\n            <p>Select Product Color</p>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-primary me-2\"\r\n              onClick={() => setColorLength(colorLength + 1)}\r\n            >\r\n              Add Color\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-danger\"\r\n              onClick={() => {\r\n                setColorLength(Math.max(1, colorLength - 1));\r\n                updateProduct((prev) => ({\r\n                  ...prev,\r\n                  color: prev.color.slice(0, -1),\r\n                }));\r\n              }}\r\n            >\r\n              Remove Last Color\r\n            </button>\r\n            <div className=\"mt-3\">\r\n              {Array.from({ length: colorLength }).map((_, index) => (\r\n                <input\r\n                  key={index}\r\n                  type=\"text\"\r\n                  className=\"form-control mb-2\"\r\n                  placeholder=\"Color name or hex (#ff0000)\"\r\n                  value={product.color[index] || \"\"}\r\n                  onChange={(e) => handleColorChange(index, e.target.value)}\r\n                />\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Stock */}\r\n          {product.color.length > 0 && product.sizes.length > 0 && (\r\n            <div className=\"mt-3\">\r\n              <h5>Stock Per Size & Color</h5>\r\n              {product.color.map((c) => (\r\n                <div key={c} className=\"mb-3\">\r\n                  <strong>{c}</strong>\r\n                  {product.sizes.map((s) => (\r\n                    <div\r\n                      key={`${c}-${s}`}\r\n                      className=\"d-flex align-items-center mb-2\"\r\n                    >\r\n                      <label className=\"me-2\" style={{ width: \"100px\" }}>\r\n                        {s}:\r\n                      </label>\r\n                      <input\r\n                        type=\"number\"\r\n                        className=\"form-control\"\r\n                        style={{ width: \"100px\" }}\r\n                        value={product.stock?.[c]?.[s] || \"\"}\r\n                        onChange={(e) =>\r\n                          handleStockChange(c, s, e.target.value)\r\n                        }\r\n                      />\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          {/* Photos */}\r\n          <div className=\"mb-3\">\r\n            <label className=\"form-label mt-3\">Product Photos</label>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-primary me-2\"\r\n              onClick={() => setImagesLength(imagesLength + 1)}\r\n            >\r\n              Add Image\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-danger\"\r\n              onClick={() => {\r\n                setImagesLength(Math.max(1, imagesLength - 1));\r\n                updateProduct((prev) => ({\r\n                  ...prev,\r\n                  photo: prev.photo.slice(0, -1),\r\n                }));\r\n              }}\r\n            >\r\n              Remove Last Image\r\n            </button>\r\n            {Array.from({ length: imagesLength }).map((_, index) => (\r\n              <input\r\n                key={index}\r\n                type=\"file\"\r\n                onChange={handleFileChange}\r\n                className=\"form-control mt-2\"\r\n              />\r\n            ))}\r\n          </div>\r\n\r\n          {/* Tags */}\r\n          <div className=\"mb-3\">\r\n            <label className=\"form-label\">Product Tags</label>\r\n            <div className=\"mb-2\">\r\n              {product.tags.map((tag, index) => (\r\n                <span\r\n                  key={index}\r\n                  className=\"badge bg-secondary me-2 mb-2\"\r\n                  style={{ cursor: \"pointer\" }}\r\n                  onClick={() =>\r\n                    updateProduct((prev) => ({\r\n                      ...prev,\r\n                      tags: prev.tags.filter((_, i) => i !== index),\r\n                    }))\r\n                  }\r\n                >\r\n                  {tag} &times;\r\n                </span>\r\n              ))}\r\n            </div>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"Type and press space or enter...\"\r\n              onKeyDown={(e) => {\r\n                if (e.key === \" \" || e.key === \"Enter\") {\r\n                  e.preventDefault();\r\n                  const tag = e.target.value.trim();\r\n                  if (tag) {\r\n                    updateProduct((prev) => ({\r\n                      ...prev,\r\n                      tags: prev.tags.includes(tag)\r\n                        ? prev.tags\r\n                        : [...prev.tags, tag],\r\n                    }));\r\n                  }\r\n                  e.target.value = \"\";\r\n                }\r\n              }}\r\n            />\r\n          </div>\r\n\r\n          {/* Submit */}\r\n          <button type=\"submit\" className=\"btn btn-success\">\r\n            Submit\r\n          </button>\r\n        </form>\r\n      </div>\r\n\r\n      {/* Spinner */}\r\n      <div\r\n        ref={spinner}\r\n        className=\"text-center position-absolute top-50 start-50 translate-middle\"\r\n        style={{ display: \"none\" }}\r\n      >\r\n        <div\r\n          className=\"spinner-border\"\r\n          style={{ height: \"5rem\", width: \"5rem\" }}\r\n          role=\"status\"\r\n        >\r\n          <span className=\"sr-only\"></span>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}