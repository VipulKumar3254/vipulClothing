(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,27803,e=>{"use strict";var s=e.i(43476),l=e.i(71645);e.i(36180);var t=e.i(98925),a=e.i(89475),r=e.i(5766);e.s(["default",0,()=>{let[e,c]=(0,l.useState)([]),[o,d]=(0,l.useState)(!0),[i,n]=(0,l.useState)("all"),u=async()=>{try{let e=(0,t.query)((0,t.collection)(a.db,"concerns"),(0,t.orderBy)("timestamp","desc")),s=(await (0,t.getDocs)(e)).docs.map(e=>({id:e.id,solved:e.data().solved||!1,...e.data()}));c(s)}catch(e){console.error("Error fetching user queries:",e)}finally{d(!1)}},m=async e=>{try{let s=(0,t.doc)(a.db,"concerns",e);await (0,t.updateDoc)(s,{solved:!0}),c(s=>s.map(s=>s.id===e?{...s,solved:!0}:s)),r.default.success("Marked as solved!")}catch(e){console.error("Error marking query as solved:",e),r.default.error("Failed to mark as solved.")}};(0,l.useEffect)(()=>{u()},[]);let v=e.filter(e=>"solved"===i?!0===e.solved:"unsolved"!==i||!e.solved);return o?(0,s.jsx)("div",{className:"text-center mt-5",children:"Loading queries..."}):0===v.length?(0,s.jsx)("div",{className:"text-center mt-5",children:"No user queries found."}):(0,s.jsxs)("div",{className:"container mt-4",children:[(0,s.jsx)("h2",{className:"mb-4 text-center",children:"User Queries"}),(0,s.jsx)("div",{className:"mb-3 text-start",children:(0,s.jsxs)("select",{className:"form-select w-auto d-inline-block",value:i,onChange:e=>n(e.target.value),children:[(0,s.jsx)("option",{value:"all",children:"All"}),(0,s.jsx)("option",{value:"unsolved",children:"Unsolved"}),(0,s.jsx)("option",{value:"solved",children:"Solved"})]})}),(0,s.jsx)("ul",{className:"list-group",children:v.map(e=>(0,s.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h5",{children:[e.name," ",e.solved&&(0,s.jsx)("span",{className:"badge bg-success",children:"Solved"})]}),(0,s.jsx)("p",{className:"m-0",children:e.phone}),(0,s.jsx)("p",{className:"mb-1",children:e.query}),(0,s.jsx)("small",{className:"text-muted",children:e.timestamp?.toDate().toLocaleString()||"No timestamp"})]}),!e.solved&&(0,s.jsx)("button",{className:"btn btn-sm btn-success",onClick:()=>m(e.id),children:"Mark Solved"})]},e.id))})]})}])}]);