(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,91935,s=>{s.v("/_next/static/media/profileAvatar.09bef88c.jpg")},59418,s=>{"use strict";var e=s.i(43476);let i={src:s.i(91935).default,width:413,height:458,blurWidth:7,blurHeight:8,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/wAARCAAIAAcDAREAAhEBAxEB/9sAQwAKBwcIBwYKCAgICwoKCw4YEA4NDQ4dFRYRGCMfJSQiHyIhJis3LyYpNCkhIjBBMTQ5Oz4+PiUuRElDPEg3PT47/9sAQwEKCwsODQ4cEBAcOygiKDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD01Y9QEgkG/wA0sd2W+XH0oA//2Q=="};var A=s.i(71645),a=s.i(18566),t=s.i(89475);s.i(36180);var c=s.i(98925);s.i(51718);var l=s.i(6973);s.s(["default",0,()=>{let s=(0,a.useRouter)(),[r,n]=(0,A.useState)(null),[o,d]=(0,A.useState)([]),[h,m]=(0,A.useState)(!0);(0,A.useEffect)(()=>{(async()=>{let e=(0,l.getAuth)();(0,l.onAuthStateChanged)(e,async e=>{if(!e){n(!1),s.push("/apLogin");return}try{let i=await (0,c.getDoc)((0,c.doc)(t.db,"users",e.uid));i.exists()&&i.data().isAdmin?(n(!0),await g()):(n(!1),s.push("/apLogin"))}catch(s){console.error("Error checking admin:",s),n(!1)}})})()},[s]);let g=async()=>{try{let s=(await (0,c.getDocs)((0,c.collection)(t.db,"users"))).docs.map(s=>({id:s.id,...s.data()}));d(s),console.log(s)}catch(s){console.error("Error fetching users:",s)}finally{m(!1)}};return(0,e.jsxs)("div",{className:"container-fluid",children:[(0,e.jsx)("div",{className:"bg-white mt-5 px-2 position-sticky top-0",style:{zIndex:999},children:(0,e.jsx)("h2",{className:"text-center m-0",children:"Customers"})}),null===r||h?(0,e.jsx)("div",{className:"d-flex justify-content-center align-items-center vh-100",children:(0,e.jsx)("div",{className:"spinner-border",role:"status",children:(0,e.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,e.jsx)("div",{className:"row mt-3",children:o.map((s,A)=>(0,e.jsx)("div",{className:"col-md-2 mb-3",children:(0,e.jsxs)("div",{className:"card p-3 shadow-sm h-100",children:[(0,e.jsx)("img",{src:s.profilePhotoUrl?.length>4?s.profilePhotoUrl:i.src,className:"img-fluid rounded-circle mx-auto d-block mb-2",style:{height:"100px",width:"100px",objectFit:"cover"},alt:"User Avatar"}),(0,e.jsx)("h6",{className:"text-center",children:s.name||"Unnamed"}),(0,e.jsxs)("p",{className:"mb-1",children:[(0,e.jsx)("strong",{children:"Email:"})," ",s.email]}),(0,e.jsxs)("p",{className:"mb-1",children:[(0,e.jsx)("strong",{children:"Phone:"})," ",s.phone||"-"]}),(0,e.jsxs)("p",{className:"mb-1",children:[(0,e.jsx)("strong",{children:"Pincode:"})," ",s.pincode||"-"]}),(0,e.jsxs)("p",{className:"mb-1",children:[(0,e.jsx)("strong",{children:"Admin:"})," ",s.isAdmin?"Yes":"No"]})]})},A))})]})}],59418)}]);