(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,53089,e=>{e.v({"card-img-top":"productDisplay-module__JHwf4q__card-img-top",fwMedium:"productDisplay-module__JHwf4q__fwMedium",gridMaker:"productDisplay-module__JHwf4q__gridMaker",imgContainer:"productDisplay-module__JHwf4q__imgContainer",noProducts:"productDisplay-module__JHwf4q__noProducts","placeholder-card":"productDisplay-module__JHwf4q__placeholder-card","placeholder-img":"productDisplay-module__JHwf4q__placeholder-img","placeholder-text":"productDisplay-module__JHwf4q__placeholder-text",productImg:"productDisplay-module__JHwf4q__productImg",pulse:"productDisplay-module__JHwf4q__pulse",short:"productDisplay-module__JHwf4q__short",textBlack:"productDisplay-module__JHwf4q__textBlack",title:"productDisplay-module__JHwf4q__title",toaster:"productDisplay-module__JHwf4q__toaster",wishList:"productDisplay-module__JHwf4q__wishList","wishlist-hover":"productDisplay-module__JHwf4q__wishlist-hover"})},4620,e=>{"use strict";var t=e.i(43476),s=e.i(71645),l=e.i(89475);e.i(36180);var o=e.i(98925),a=e.i(22016);e.i(53089),e.i(51718);var i=e.i(6973),r=e.i(5766),d=e.i(57688);function c(){let[e,c]=(0,s.useState)([]),[n,m]=(0,s.useState)(!0),[p,u]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=(0,i.getAuth)(),t=(0,i.onAuthStateChanged)(e,e=>u(e||null));return()=>t()},[]),(0,s.useEffect)(()=>{(async()=>{try{let e=(0,o.query)((0,o.collection)(l.db,"products"),(0,o.where)("isDeal","==",!0)),t=(await (0,o.getDocs)(e)).docs.map(e=>({id:e.id,...e.data()}));c(t)}catch(e){console.error("Error fetching deals: ",e)}finally{m(!1)}})()},[]);let h=async(e,s)=>{e.preventDefault(),e.stopPropagation();let a={title:s.title,price:s.price,photo:s.photo,productId:s.id,userId:p?.uid};try{if(!p)throw Error("User not logged in");await (0,o.setDoc)((0,o.doc)(l.db,`users/${p.uid}/wishList`,s.id),a),r.toast.custom(e=>(0,t.jsxs)("div",{className:"toaster bg-success text-white px-5 py-2 shadow-sm d-flex justify-content-between align-items-center",style:{fontFamily:"Jost Variable",fontSize:"12px"},children:[(0,t.jsx)("span",{className:"text-center",children:"Added to WishList"}),(0,t.jsx)("button",{className:"btn btn-sm btn-light ms-3",onClick:()=>r.toast.dismiss(e.id),style:{fontSize:"12px"},children:"Close"})]}),{duration:4e3})}catch(s){let e="User not logged in"===s.message?"Please login to add items to wishlist":"Something went wrong";r.toast.custom(s=>(0,t.jsxs)("div",{className:"toaster bg-danger text-white px-5 py-2 shadow-sm d-flex justify-content-between align-items-center",style:{fontFamily:"Jost Variable",fontSize:"12px"},children:[(0,t.jsx)("span",{children:e}),(0,t.jsx)("button",{className:"btn btn-sm btn-light ms-3",onClick:()=>r.toast.dismiss(s.id),style:{fontSize:"12px"},children:"Close"})]}),{duration:4e3})}};return(0,t.jsxs)("div",{className:"container mt-3 px-1",style:{fontFamily:"Jost Variable"},children:[(0,t.jsx)("h2",{className:"text-center mb-4 fw-normal fs-2",children:"ðŸ”¥ Hot Deals ðŸ”¥"}),n?(0,t.jsx)("div",{className:"row g-3",children:Array.from({length:8}).map((e,s)=>(0,t.jsx)("div",{className:"col-6 col-md-3",children:(0,t.jsxs)("div",{className:"card placeholder-card h-100 border-0 rounded-0",style:{backgroundColor:"#f0f0f0"},children:[(0,t.jsx)("div",{className:"placeholder-img w-100"}),(0,t.jsxs)("div",{className:"card-body px-2 py-2",children:[(0,t.jsx)("div",{className:"placeholder-text mb-2"}),(0,t.jsx)("div",{className:"placeholder-text short"}),(0,t.jsx)("div",{className:"placeholder-text short mt-2",style:{width:"40%"}})]})]})},s))}):0===e.length?(0,t.jsx)("p",{className:"text-center fs-5",children:"No deals available right now."}):(0,t.jsx)("div",{className:"row g-0 g-md-4",children:e.map(e=>(0,t.jsx)("div",{className:"col-6 col-md-3",children:(0,t.jsxs)(a.default,{href:`/product/${e.id}`,className:"card h-100 text-decoration-none rounded-0 border-0",style:{backgroundColor:"#F7F7F7"},children:[(0,t.jsx)("div",{className:"position-relative",children:(0,t.jsx)(d.default,{src:Array.isArray(e.photo)?e.photo[0]:e.photo,alt:e.title,className:"card-img-top"})}),(0,t.jsxs)("div",{className:"card-body mt-1 px-1",children:[(0,t.jsx)("h5",{className:"card-title fw-normal text-dark",children:e.title}),(0,t.jsxs)("p",{className:"card-text text-muted p-0 mb-0",style:{fontSize:"12px"},children:[(0,t.jsx)("span",{className:"badge bg-success text-start",children:"Free delivery"})," ","on â‚¹599+"]}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)("p",{style:{backgroundColor:"#FFCE12",fontSize:"11px"},className:"d-inline px-3 py-1 border rounded-5 cursor-pointer",onClick:t=>h(t,e),children:"Add to Wishlist"})}),(0,t.jsxs)("p",{className:"fw-medium text-dark fs-6 mb-0 mt-2 ms-0",children:["Rs. ",e.price]})]})]})},e.id))}),(0,t.jsx)(r.Toaster,{position:"bottom-left"})]})}e.s(["default",()=>c])}]);