(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,53487,e=>{"use strict";var r=e.i(43476),s=e.i(71645),t=e.i(89475);e.i(36180);var a=e.i(98925),d=e.i(18566);e.s(["default",0,()=>{let[e,i]=(0,s.useState)([]),l=(0,d.useRouter)();(0,s.useEffect)(()=>{(async()=>{try{let e=(await (0,a.getDocs)((0,a.collection)(t.db,"products"))).docs.map(e=>({id:e.id,...e.data()}));i(e)}catch(e){console.error("Error fetching products: ",e)}})()},[]);let o=async(e,r)=>{try{let s=(0,a.doc)(t.db,"products",e);await (0,a.updateDoc)(s,{isDeal:!r}),alert("Deal status updated."),i(s=>s.map(s=>s.id===e?{...s,isDeal:!r}:s))}catch(e){console.error("Error updating deal status:",e)}},c=async(e,r)=>{try{let s=(0,a.doc)(t.db,"products",e);await (0,a.updateDoc)(s,{isNewArrival:!r}),alert("New arrival status updated."),i(s=>s.map(s=>s.id===e?{...s,isNewArrival:!r}:s))}catch(e){console.error("Error updating new arrival:",e)}},n=async e=>{if(window.confirm("Are you sure you want to delete this product?"))try{await (0,a.deleteDoc)((0,a.doc)(t.db,"products",e)),alert("Product Deleted"),i(r=>r.filter(r=>r.id!==e))}catch(e){console.error("Error deleting product: ",e)}};return(0,r.jsxs)("div",{className:"container mt-4",children:[(0,r.jsx)("h2",{className:"text-center mb-4",children:"All Products"}),(0,r.jsx)("div",{className:"row",children:e.length>0?e.map(e=>(0,r.jsx)("div",{className:"col-lg-3 col-md-4 col-sm-6 mb-4",children:(0,r.jsxs)("div",{className:"card h-100 position-relative shadow-sm",children:[e.isDeal&&(0,r.jsx)("div",{className:"deal-badge",children:"DEAL"}),(0,r.jsx)("img",{src:e.photo,className:"card-img-top",alt:e.title,style:{height:"250px",objectFit:"cover"}}),(0,r.jsxs)("div",{className:"card-body d-flex flex-column",children:[(0,r.jsx)("h5",{className:"card-title",children:e.title}),(0,r.jsxs)("p",{className:"mb-1",children:[(0,r.jsx)("strong",{children:"Price:"})," â‚¹",e.price]}),(0,r.jsxs)("p",{className:"mb-1",children:[(0,r.jsx)("strong",{children:"Sizes:"})," ",e.sizes.join(", ")]}),(0,r.jsxs)("p",{className:"mb-1",children:[(0,r.jsx)("strong",{children:"Colors:"})," ",e.color.join(", ")]}),(0,r.jsxs)("p",{className:"text-muted mb-2",children:["Category: ",e.category]}),(0,r.jsxs)("div",{className:"dropdown mt-auto",children:[(0,r.jsx)("button",{className:"btn btn-outline-primary btn-sm dropdown-toggle w-100",type:"button",id:`dropdownMenuButton-${e.id}`,"data-bs-toggle":"dropdown","aria-expanded":"false",children:"Actions"}),(0,r.jsxs)("ul",{className:"dropdown-menu w-100","aria-labelledby":`dropdownMenuButton-${e.id}`,children:[(0,r.jsx)("li",{children:(0,r.jsx)("button",{className:"dropdown-item",onClick:()=>o(e.id,e.isDeal),children:e.isDeal?"Remove Deal":"Mark as Deal"})}),(0,r.jsx)("li",{children:(0,r.jsx)("button",{className:"dropdown-item",onClick:()=>c(e.id,e.isNewArrival),children:e.isNewArrival?"Mark as Old":"Mark as New Arrival"})}),(0,r.jsx)("li",{children:(0,r.jsx)("button",{className:"dropdown-item",onClick:()=>{var r;return r=e.id,void l.push(`/admin/updateProduct/${r}`)},children:"Update Product"})}),(0,r.jsx)("li",{children:(0,r.jsx)("button",{className:"dropdown-item text-danger",onClick:()=>n(e.id),children:"Delete Product"})})]})]})]})]})},e.id)):(0,r.jsx)("div",{className:"col-12 text-center",children:(0,r.jsx)("p",{children:"Loading products..."})})})]})}])}]);