(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,45897,e=>{"use strict";var a=e.i(43476),t=e.i(71645),l=e.i(89475);e.i(36180);var r=e.i(98925);e.i(61086);var s=e.i(27215);function i(){let[e,i]=(0,t.useState)({imgSrc:null,name:"",path:""}),[c,n]=(0,t.useState)(null),[o,d]=(0,t.useState)(!1),m=a=>{i({...e,[a.target.name]:a.target.value})},u=async a=>{a.preventDefault(),d(!0);try{if(!e.imgSrc){alert("Please select an image!"),d(!1);return}let a=`${Date.now()}-${e.imgSrc.name}`,t=(0,s.ref)(l.storage,`productsWeOffer/${a}`);await (0,s.uploadBytes)(t,e.imgSrc);let c=await (0,s.getDownloadURL)(t);await (0,r.addDoc)((0,r.collection)(l.db,"admin","productsWeOffer","products"),{imgSrc:c,name:e.name,path:e.path}),alert("Product added successfully!"),i({imgSrc:null,name:"",path:""}),n(null)}catch(e){console.error("Error adding product:",e),alert("Failed to add product")}finally{d(!1)}};return(0,a.jsx)("div",{className:"container d-flex justify-content-center align-items-center vh-100",children:(0,a.jsxs)("div",{className:"w-100",style:{maxWidth:"40rem"},children:[(0,a.jsx)("h2",{className:"text-center mb-4",children:"Add Product"}),(0,a.jsxs)("form",{onSubmit:u,className:"p-4 border rounded shadow-sm bg-light",children:[(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{className:"form-label",children:"Upload Image"}),(0,a.jsx)("input",{type:"file",className:"form-control",accept:"image/*",onChange:a=>{let t=a.target.files?.[0];t&&(i({...e,imgSrc:t}),n(URL.createObjectURL(t)))},required:!0}),c&&(0,a.jsx)("img",{src:c,alt:"Preview",className:"img-thumbnail mt-2",style:{maxHeight:"200px"}})]}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{className:"form-label",children:"Product Name"}),(0,a.jsx)("input",{type:"text",name:"name",className:"form-control",placeholder:"Enter product name",value:e.name,onChange:m,required:!0})]}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{htmlFor:"category",className:"form-label",children:"Product Category"}),(0,a.jsxs)("select",{className:"form-select",name:"path",onChange:m,value:e.path,id:"category",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select Product Category"}),(0,a.jsx)("option",{value:"/jeans",children:"Jeans"}),(0,a.jsx)("option",{value:"/tshirts",children:"T-Shirts"}),(0,a.jsx)("option",{value:"/shirts",children:"Shirts"}),(0,a.jsx)("option",{value:"/joggers",children:"Joggers"}),(0,a.jsx)("option",{value:"/winterCollection",children:"Winter Collection"})]}),(0,a.jsx)("p",{className:"mt-1 text-danger",style:{display:"none"},children:"Please Select Category Carefully."})]}),(0,a.jsx)("button",{type:"submit",className:"btn btn-primary w-100",disabled:o,children:o?"Uploading...":"Add Product"})]})]})})}e.s(["default",()=>i])}]);