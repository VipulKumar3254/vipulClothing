(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,62403,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(89475);e.i(51718);var r=e.i(6973);e.i(36180);var l=e.i(98925),i=e.i(95538),n=e.i(18566);function d(){let{setUser:e}=(0,a.useContext)(i.userContext);console.log(e+"hi");let d=(0,n.useRouter)(),[c,o]=(0,a.useState)(""),[u,m]=(0,a.useState)(""),[h,p]=(0,a.useState)(""),[x,b]=(0,a.useState)(!1),j=async s=>{if(s.preventDefault(),b(!0),!c||!u){p("Both fields are required"),b(!1);return}p("");try{let s=(await (0,r.signInWithEmailAndPassword)(t.auth,c,u)).user;localStorage.setItem("uid",s.uid);let a=(0,l.doc)(t.db,"users",s.uid),i=await (0,l.getDoc)(a);i.exists()?(e(i.data()),d.push("/")):(User.setUser(null),p("User data not found"))}catch(e){console.error("Login Error:",e),p("Enter Valid Credentials")}finally{b(!1)}};return(0,s.jsx)("div",{className:"d-flex justify-content-center align-items-center vh-100",children:(0,s.jsxs)("div",{className:"card p-4",style:{width:"400px"},children:[(0,s.jsx)("h3",{className:"card-title text-center mb-4",children:"Login"}),(0,s.jsxs)("form",{onSubmit:j,children:[h&&(0,s.jsx)("div",{className:"alert alert-danger",children:h}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),(0,s.jsx)("input",{type:"email",className:"form-control",id:"email",placeholder:"Enter email",value:c,onChange:e=>o(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),(0,s.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",value:u,onChange:e=>m(e.target.value),required:!0})]}),(0,s.jsx)("button",{type:"submit",className:"btn btn-primary w-100",disabled:x,children:x?(0,s.jsx)("div",{className:"spinner-border",role:"status",children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):"Login"})]}),(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("p",{className:"m-0 mt-3 text-center",children:"Don't have an account?"}),(0,s.jsx)("button",{className:"btn btn-primary w-100",onClick:()=>d.push("/createAccount"),children:"Sign-Up"})]})]})})}e.s(["default",()=>d])}]);