(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,35590,e=>{e.v("/_next/static/media/return.a1290254.png")},85652,e=>{e.v("/_next/static/media/homeDelivery.e335ef55.png")},42950,e=>{e.v("/_next/static/media/cod.36e7c059.png")},93609,e=>{"use strict";var t=e.i(43476),s=e.i(71645);e.i(51718);var i=e.i(6973);e.i(36180);var l=e.i(98925),a=e.i(89475),r=e.i(18566),o=e.i(5766),d=e.i(57688);let c={src:e.i(35590).default,width:890,height:980,blurWidth:7,blurHeight:8,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAICAYAAAA1BOUGAAAA80lEQVR42gHoABf/ANLS0i1iYmKeuLi4SNTU1Cvq6uoV/f39Av///wAAT09PsggICPceHh7iIiIi3jc3N8mNjY1z7OzsEwDNzc0zZmZmmq+vr1GwsLBQdnZ2iikpKddmZmaaAPz8/ATW1tYqra2tU8bGxjrw8PAQxMTEPDIyMs8Aw8PDPmJiYp8iIiLeODg4yJCQkHHr6+sVb29vkgBYWFioKioq1mpqaphJSUm4Kioq1ra2tkqamppnAFBQULAAAAD/RkZGuxkZGecSEhLtv7+/Qe/v7xEAs7OzTUtLS7VTU1OvOjo6xnx8fITs7OwT////AFQNclOefIh5AAAAAElFTkSuQmCC"},n={src:e.i(85652).default,width:300,height:234,blurWidth:8,blurHeight:6,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAYAAAD+Bd/7AAAA0UlEQVR42gHGADn/AEdwTABHcEwARm5LA0ZuSwQ9YEEgGCYamz1gQR9HcEwAAENpRwo6XD8hHzEhiRwsHpQZJxucHS4fizVTOTdFbEkIADtdPyAwTDNDChAL1QQGBOgJDwrUKUAsYiI2JHg/ZEQYAEFnRg44WTwoHzEhgQUIBtcQGhG1HjAgiB8wIYc2VTk5ADhZPCItRzBJDhYPxAkOCdoaKRyXHzEhhA8XEMMZJxqaAEVtSgVAZUUTIjYldyY9KWc7XT8mPWFCHyQ5JnEjNyZxEsculdVrZl4AAAAASUVORK5CYII="},m={src:e.i(42950).default,width:580,height:386,blurWidth:8,blurHeight:5,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAdklEQVR42mWLPQ5AMABGidFmMJssDiISZyEWN5DgGo6hggtwgi7tRqpLu/VHKukgHd43vLzP01p7BsZYfF9XJqUMrDN8o5Tyz+MoFgBaQkgshAicACGU7OuWN1U9YYyTX2CBEKZjP3RgnktzcgIjOechfWhk3QtglHLkm6W66gAAAABJRU5ErkJggg=="};function h({product:e}){let[h,u]=(0,s.useState)({}),[x,A]=(0,s.useState)(0),[p,g]=(0,s.useState)(""),[f,j]=(0,s.useState)(null),[y,v]=(0,s.useState)(!1),N=(0,r.useRouter)();(0,s.useEffect)(()=>{let e=(0,i.getAuth)();(0,i.onAuthStateChanged)(e,e=>j(e||null))},[]);let b=e=>{let{name:t,value:s}=e.target;u({...h,[t]:s}),"color"===t&&g(s)},w=()=>({...h,title:e.title,price:e.price,photo:e.photo,productId:e.id,userId:f?.uid}),S=async()=>{if(!f)return o.default.error("Please login to continue");if(!h.size||!h.color)return o.default.error("Please choose size and color");let t=w(),s=(0,l.doc)(a.db,`users/${f.uid}/cart`,e.id),i=await (0,l.getDoc)(s);if(i.exists()&&i.data().size===t.size&&i.data().color===t.color)return o.default.error("Already in cart");await (0,l.setDoc)(s,t),o.default.success("Added to cart")};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"container-fluid",children:(0,t.jsxs)("div",{className:"row",children:[(0,t.jsxs)("div",{className:"col-xl-5",children:[(0,t.jsx)("div",{className:"d-flex flex-row",children:e.photo.map((e,s)=>(0,t.jsx)("div",{className:"mt-2 ms-1",children:(0,t.jsx)(d.default,{src:e,alt:"Product Thumbnail",width:35,height:50,onClick:()=>A(s),className:"border rounded"})},s))}),(0,t.jsx)(d.default,{className:"productImg mx-auto d-block",src:e.photo[x],width:500,height:500,alt:"Product"})]}),(0,t.jsxs)("div",{className:"col-lg-7",style:{fontFamily:"Jost Variable"},children:[(0,t.jsx)("h2",{className:"fs-2 mt-5 ms-2 fw-normal",children:e.title}),(0,t.jsx)("p",{className:" d-none d-md-block fs-5 ms-2 pe-5",children:e.subTitle}),(0,t.jsxs)("p",{className:"fs-3 ms-2 fw-medium",children:[(0,t.jsx)("sup",{children:"₹"}),e.price]}),(0,t.jsxs)("div",{className:"mt-3 text-center d-flex",style:{fontFamily:"Jost Variable"},children:[(0,t.jsxs)("div",{className:"m-2 mx-3",children:[(0,t.jsx)(d.default,{height:30,style:{height:"30px"},src:c,alt:"Return Policy"}),(0,t.jsx)("p",{style:{fontSize:"12px"},children:"10 Day Return"})]}),(0,t.jsxs)("div",{className:"m-2 mx-3",children:[(0,t.jsx)(d.default,{style:{height:"30px"},height:30,src:n,alt:"Home Delivery"}),(0,t.jsx)("p",{style:{fontSize:"12px"},children:"Fast Delivery"})]}),(0,t.jsxs)("div",{className:"m-2 mx-3",children:[(0,t.jsx)(d.default,{syle:{height:"30px"},height:30,src:m,alt:"COD Available"}),(0,t.jsx)("p",{style:{fontSize:"12px"},children:"Cash on Delivery"})]})]}),(0,t.jsx)("p",{style:{fontFamily:"Jost Variable"},className:"mt-1 fs-6",children:"Size"}),(0,t.jsxs)("select",{style:{fontFamily:"Jost Variable"},className:"border rounded",name:"size",onChange:b,children:[(0,t.jsx)("option",{value:"",children:"Select"}),e.sizes?.map((e,s)=>(0,t.jsx)("option",{value:e,children:e},s))]}),(0,t.jsx)("p",{style:{fontFamily:"Jost Variable"},className:"mt-3 fs-6",children:"Color"}),(0,t.jsx)("div",{children:e.color?.map((s,i)=>(0,t.jsxs)("div",{className:"d-inline text-center ms-2",children:[(0,t.jsx)("input",{type:"radio",name:"color",className:"d-none",onChange:e=>{b(e),A(i)},value:s,id:s}),(0,t.jsxs)("label",{htmlFor:s,children:[(0,t.jsx)("img",{src:e.photo[i],style:{height:"80px",width:"60px",objectFit:"cover"},className:` ms-2 ${p==s?"highlighedImage":""}`,alt:s}),(0,t.jsx)("p",{children:s})]})]},i))}),(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsx)("button",{className:"col-lg-2 btn btn-warning rounded-0 py-2",onClick:S,children:"Add to Cart"}),(0,t.jsx)("button",{className:"col-lg-2 btn btn-success rounded-0 ms-0 py-2 mt-2 ms-md-2 mt-md-0",onClick:()=>{let e;return f?h.size&&h.color?void(e=w(),sessionStorage.setItem("buyNow",JSON.stringify(e)),N.push("/checkout?mode=buy-now")):o.default.error("Choose size and color"):o.default.error("Please login to continue")},children:"Buy Now"})]})]})]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{style:{fontFamily:"Jost Variable"},className:"mt-5 fs-1 fw-normal text-center",children:"Product Description"}),(0,t.jsx)("div",{className:"container row  mx-auto mt-5 ",children:(0,t.jsx)("div",{className:"col-12  ",children:e.desc.map((e,s)=>(0,t.jsxs)("div",{className:"mb-3 ",style:{fontFamily:"Jost Variable"},children:[(0,t.jsx)("h4",{style:{fontWeight:"400"},children:e.title}),(0,t.jsx)("p",{className:"fs-6",children:e.desc})]},s))})})]})]})}let u=({product:e})=>{let[o,d]=(0,s.useState)(!0),[c,n]=(0,s.useState)(null),[m,h]=(0,s.useState)([]),[u,x]=(0,s.useState)(""),A=(0,r.useRouter)();(0,s.useEffect)(()=>{if(!e?.id)return;let t=(0,l.collection)(a.db,"products",e.id,"reviews"),s=(0,l.query)(t,(0,l.orderBy)("createdAt","desc")),i=(0,l.onSnapshot)(s,e=>{h(e.docs.map(e=>({id:e.id,...e.data()}))),d(!1)});return()=>i()},[e?.id]),(0,s.useEffect)(()=>{let e=(0,i.getAuth)();(0,i.onAuthStateChanged)(e,async e=>{if(e)try{let t=(0,l.doc)(a.db,"users",e.uid),s=await (0,l.getDoc)(t);s.exists()?n({...s.data(),uid:e.uid}):alert("Please try again later")}catch(e){console.error("Error fetching user data:",e)}else console.log("Not logged in"),n(null)})},[]);let p=async()=>{if(u.trim()){if(!c){alert("You must be logged in to comment"),A.push("/login");return}try{let t={text:u,createdAt:(0,l.serverTimestamp)(),userId:c.uid,userName:c.name||"Anonymous"},s=await (0,l.addDoc)((0,l.collection)(a.db,"products",e.id,"reviews"),t);await (0,l.setDoc)((0,l.doc)(a.db,"recentReviews",s.id),{productId:e.id,reviewId:s.id,createdAt:(0,l.serverTimestamp)()}),x("")}catch(e){console.error("Error posting comment:",e)}}};return(0,t.jsxs)("div",{style:{minHeight:"400px",fontFamily:"Jost Variable"},className:"container p-3 mt-4",children:[(0,t.jsx)("hr",{}),(0,t.jsx)("h4",{children:"Reviews"}),(0,t.jsxs)("div",{className:"d-flex gap-2 mb-3",children:[(0,t.jsx)("input",{style:{fontFamily:"Jost Variable"},type:"text",className:"form-control rounded-0",value:u,onChange:e=>x(e.target.value),placeholder:"Write a Review..."}),(0,t.jsx)("button",{style:{fontFamily:"Jost Variable"},onClick:p,className:"btn btn-primary rounded-0",children:"Post"})]}),(0,t.jsx)("ul",{className:"list-group",children:o?[void 0,void 0,void 0].map((e,s)=>(0,t.jsx)("li",{className:"list-group-item",children:(0,t.jsx)("div",{className:"skeleton skeleton-comment"})},s)):m.length>0?m.map(e=>(0,t.jsxs)("li",{className:"list-group-item border-0",children:[(0,t.jsxs)("strong",{children:[e.userName,": "]})," ",e.text]},e.id)):(0,t.jsx)("li",{className:"list-group-item text-muted",children:"No Reviews yet."})})]})};var x=e.i(22016);let A=({product:e})=>{let[r,d]=(0,s.useState)([]),[c,n]=(0,s.useState)(!0),[m,h]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=(0,i.getAuth)(),t=(0,i.onAuthStateChanged)(e,e=>{h(e||null)});return()=>t()},[]),(0,s.useEffect)(()=>{(async()=>{if(e?.price&&e?.category){try{let t=.8*e.price,s=1.2*e.price,i=(0,l.query)((0,l.collection)(a.db,"products"),(0,l.where)("category","==",e.category),(0,l.where)("price",">=",t),(0,l.where)("price","<=",s)),r=(await (0,l.getDocs)(i)).docs.map(e=>({id:e.id,...e.data()})).filter(t=>t.id!==e.id);d(r)}catch(e){console.error("Error fetching related products:",e)}n(!1)}})()},[e]);let u=async(e,t)=>{if(e.preventDefault(),e.stopPropagation(),!m)return void o.default.error("Please login to add items to wishlist",{duration:3e3});try{let e={title:t.title,price:t.price,photo:t.photo,productId:t.id,userId:m.uid};await (0,l.setDoc)((0,l.doc)(a.db,`users/${m.uid}/wishList`,t.id),e),o.default.success("Added to Wishlist",{duration:3e3})}catch(e){console.error(e),o.default.error("Something went wrong",{duration:3e3})}};return c?(0,t.jsxs)("div",{style:{minHeight:"400px"},className:"mt-5 p-2",children:[(0,t.jsx)("h4",{style:{fontFamily:"Jost Variable"},className:"mb-3",children:"More Like This"}),(0,t.jsx)("div",{className:"d-flex overflow-auto pb-2",children:[void 0,void 0,void 0,void 0].map((e,s)=>(0,t.jsxs)("div",{className:"me-3",children:[(0,t.jsx)("div",{className:"skeleton skeleton-card"}),(0,t.jsx)("div",{className:"skeleton skeleton-title"}),(0,t.jsx)("div",{className:"skeleton skeleton-price"})]},s))})]}):(0,t.jsxs)("div",{style:{minHeight:"400px"},className:"mt-5 px-1",children:[(0,t.jsx)("h4",{style:{fontFamily:"Jost Variable"},className:"mb-3",children:"More Like This"}),r.length>0?(0,t.jsx)("div",{className:"d-flex overflow-auto pb-2",children:r.map(e=>(0,t.jsx)(x.default,{href:`/product/${e.id}`,className:"text-decoration-none text-dark",children:(0,t.jsxs)("div",{className:"card me-3 shadow-sm border-0",children:[(0,t.jsx)("div",{style:{height:"350px",overflow:"hidden",borderRadius:"8px"},children:(0,t.jsx)("img",{src:e.photo,className:"img-fluid w-100 h-100",alt:e.title,style:{objectFit:"cover",borderRadius:"8px"}})}),(0,t.jsxs)("div",{className:"card-body p-2",children:[(0,t.jsx)("h6",{style:{fontFamily:"Jost Variable",fontSize:"0.9rem"},className:"card-title mb-1 fw-normal",children:e.title}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)("p",{style:{backgroundColor:"#FFCE12"},className:"d-inline px-3 py-1 border rounded-5 cursor-pointer",onClick:t=>u(t,e),children:"Add to Wishlist"})}),(0,t.jsxs)("p",{style:{fontFamily:"Jost Variable",fontSize:"1.1rem"},className:"card-text fw-medium text-muted mb-0 mt-2 price",children:["₹",e.price]})]})]},e.id)}))}):(0,t.jsx)("p",{style:{fontFamily:"Jost Variable"},className:"text-center",children:"No similar products found."}),(0,t.jsx)(o.Toaster,{position:"bottom-left"})]})};function p({id:e}){let[i,l]=(0,s.useState)(null),[a,r]=(0,s.useState)(!0);return(console.log("ok bro",e),(0,s.useEffect)(()=>{fetch(`/api/product/${e}`).then(e=>e.json()).then(e=>{l(e),r(!1)}).catch(()=>r(!1))},[e]),a)?(0,t.jsx)("div",{className:"mt-5 text-center",children:"Loading…"}):i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h,{product:i}),(0,t.jsx)(u,{product:i}),(0,t.jsx)(A,{product:i})]}):(0,t.jsx)("div",{className:"mt-5 text-center",children:"Product not found"})}e.s(["default",()=>p],93609)}]);