(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,51283,e=>{"use strict";var t=e.i(43476),r=e.i(71645),c=e.i(89475);e.i(36180);var s=e.i(98925);e.i(61086);var a=e.i(27215),d=e.i(22016);function i(){let[e,i]=(0,r.useState)([]);(0,r.useEffect)(()=>{l()},[]);let l=async()=>{try{let e=(await (0,s.getDocs)((0,s.collection)(c.db,"admin","productsWeOffer","products"))).docs.map(e=>({id:e.id,...e.data()}));i(e)}catch(e){console.error("Error fetching products: ",e)}},n=async(e,t)=>{if(window.confirm("Are you sure you want to delete this product?"))try{let r=t.split("/o/")[1].split("?")[0],d=(0,a.ref)(c.storage,decodeURIComponent(r));await (0,a.deleteObject)(d),await (0,s.deleteDoc)((0,s.doc)(c.db,"admin","productsWeOffer","products",e)),i(t=>t.filter(t=>t.id!==e)),alert("Product and image deleted successfully!")}catch(e){console.error("Error deleting product:",e),alert("Failed to delete product.")}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"container mt-3",children:(0,t.jsx)(d.default,{className:"btn btn-primary",href:"/adminPanel/productsWeOffer/add",children:"Add Products"})}),(0,t.jsxs)("div",{className:"container mt-4",children:[(0,t.jsx)("h2",{className:"text-center mb-4",children:"All Products"}),(0,t.jsx)("div",{className:"row",children:e.length>0?e.map(e=>(0,t.jsx)("div",{className:"col-lg-3 col-md-6 col-sm-12 mb-4",children:(0,t.jsxs)("div",{className:"card shadow-sm text-center",children:[(0,t.jsx)("img",{src:e.imgSrc,className:"card-img-top",alt:e.name,style:{height:"200px",width:"300px",objectFit:"contain"}}),(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsx)("h5",{className:"card-title",children:e.path}),(0,t.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[(0,t.jsx)("a",{href:e.path,className:"btn btn-primary",target:"_blank",rel:"noopener noreferrer",children:"View Product"}),(0,t.jsx)("button",{className:"m-0 ms-2 btn btn-danger",onClick:()=>n(e.id,e.imgSrc),children:"Delete"})]})]})]})},e.id)):(0,t.jsx)("div",{className:"col-12 text-center",children:(0,t.jsx)("p",{children:"Loading products..."})})})]})]})}e.s(["default",()=>i])}]);